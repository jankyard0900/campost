<div class='container mt-5 h-75'>
  <div class='row h-100'>
    <div class='col-md-2'>
      エリア検索機能
    </div>

    <div class='col-md-10'>
      <div>
        <h3><strong>キャンプ場一覧</strong></h3>
        <div class="mt-2"><strong>（全<%= @camps_all.count%>件）</strong></div>
        <p>
          <%= link_to '新しい順', camps_path(latest: "true") %>
          | <%= link_to '評価の高い順', camps_path(star_count: "true") %>
        </p>
      </div>
      <div class = "contents" style="display:flex; flex-wrap:wrap;">
        <% @camps.each do |camp| %>
        <div class="col-lg-4">
          <div class="d-flex flex-column">
            <!--投稿画像の一枚目表示-->
            <%= link_to camp_path(camp.id) do %>
              <% camp.camp_images.first(1).each do |image| %>
                <%= image_tag image, size:'200x160' %>
              <% end %>
            <% end %>
            <h5 style="margin-bottom: 20px; margin-top: 20px;"><b><%= camp.name %></b></h5>
            <!--レビューの平均☆表示-->
            <div id="star-rate<%= camp.id%>"></div>
            <p>(<b><%= camp.camp_reviews.count %>件</b>)</p>
            <script>
            $(document).on('turbolinks:load', function() {
              $('#star-rate<%= camp.id %>').empty();
              $('#star-rate<%= camp.id%>').raty({
                size      : 36,
                starOff   : '<%= asset_path('star-off.png') %>',
                starOn    : '<%= asset_path('star-on.png') %>',
                starHalf  : '<%= asset_path('star-half.png') %>',
                half      : true,
                readOnly  : true,
                score: '<%= camp.camp_reviews.average(:rate).to_f.round(1) %>',
              });
            });
            </script>
          </div>
        </div>
        <% end %>
      </div>

      <div class="d-flex justify-content-center">
        <%= paginate @camps %>
      </div>
    </div>
  </div>
</div>